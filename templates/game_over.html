{% extends 'base.html' %}

{% block content %}
<div class="card max-w-2xl mx-auto">
    <div class="text-center mb-6">
        <div class="flex justify-center items-center">
            <span class="text-4xl mr-3">ğŸ®</span>
            <h2 class="text-3xl font-bold page-title">Final Results</h2>
            <span class="text-4xl ml-3">ğŸ„</span>
        </div>
        <p class="text-gray-600 mt-4">The herd has spoken!</p>
    </div>
    
    <div class="bg-yellow-50 border-l-4 border-yellow-500 p-6 mb-6 text-center relative overflow-hidden">
        <div class="flex justify-center mb-2">
            <span class="text-4xl">ğŸ†</span>
        </div>
        {% if results.winners|length == 1 %}
        <p class="text-2xl font-bold text-yellow-800">The lead cow is {{ results.winners[0] }}!</p>
        {% else %}
        <p class="text-2xl font-bold text-yellow-800">It's a tie! The lead cows are {{ results.winners|join(', ') }}!</p>
        {% endif %}
        <p class="text-xl text-yellow-700 mt-2">With {{ results.winner_score }} points</p>
        <div class="flex justify-center mt-3">
            <div class="cow-footprint mx-1">ğŸ¾</div>
            <div class="cow-footprint mx-1">ğŸ¾</div>
            <div class="cow-footprint mx-1">ğŸ¾</div>
        </div>
        <div class="absolute -right-8 -bottom-8 opacity-10 text-9xl">ğŸ„</div>
    </div>
    
    <h3 class="text-xl font-bold mb-3 flex items-center justify-center">
        <span class="text-2xl mr-2">ğŸ„</span>
        Final Herd Standings
        <span class="text-2xl ml-2">ğŸ„</span>
    </h3>
    <div class="space-y-3 mb-6">
        {% for player, score in results.scores.items()|sort(attribute='1', reverse=true) %}
        <div class="border p-3 rounded-md flex justify-between items-center {% if player in results.winners %}bg-yellow-50 border-yellow-300{% endif %}">
            <span class="font-semibold">{{ player }}</span>
            <span class="bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm font-semibold">{{ score }} points</span>
        </div>
        {% endfor %}
    </div>
    
    <div class="text-center mt-8">
        <a href="{{ url_for('home') }}" class="btn-primary px-6 py-2 flex items-center justify-center">
    <span class="mr-2">ğŸ„</span> Herd Again!
</a>
    </div>
</div>
{% endblock %}
